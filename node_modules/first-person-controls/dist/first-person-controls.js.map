{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ed1a7a0badc5b9905121","webpack:///./src/first-person-controls.js","webpack:///external \"three\""],"names":["FirstPersonControls","object","domElement","document","target","THREE","enabled","movementSpeed","lookSpeed","lookVertical","autoForward","activeLook","heightSpeed","heightCoef","heightMin","heightMax","constrainVertical","verticalMin","verticalMax","Math","PI","autoSpeedFactor","mouseX","mouseY","lat","lon","phi","theta","moveForward","moveBackward","moveLeft","moveRight","mouseDragOn","viewHalfX","viewHalfY","setAttribute","_contextMenu","contextMenu","bind","_onMouseMove","onMouseMove","_onMouseDown","onMouseDown","_onMouseUp","onMouseUp","_onKeyDown","onKeyDown","_onKeyUp","onKeyUp","handleResize","bindEvents","window","innerWidth","innerHeight","offsetWidth","offsetHeight","addEventListener","_contextmenu","event","focus","preventDefault","stopPropagation","button","pageX","pageY","offsetLeft","offsetTop","keyCode","moveUp","moveDown","delta","y","clamp","position","heightDelta","actualMoveSpeed","translateZ","translateX","translateY","actualLookSpeed","verticalLookRatio","max","min","degToRad","mapLinear","targetPosition","x","sin","cos","z","lookAt","removeEventListener"],"mappings":"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","file":"first-person-controls.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"three\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"first-person-controls\", [\"three\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"first-person-controls\"] = factory(require(\"three\"));\n\telse\n\t\troot[\"first-person-controls\"] = factory(root[\"three\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ed1a7a0badc5b9905121","import * as THREE from 'three'\n\n/**\n * FirstPersonControls class\n *\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author paulirish / http://paulirish.com/\n */\nclass FirstPersonControls {\n  /**\n   * Constructor\n   * @param  {object} object     Object\n   * @param  {object} domElement Dom element\n   */\n  constructor( object, domElement = document ) {\n    this.object = object\n    this.target = new THREE.Vector3( 0, 0, 0 )\n\n    this.domElement = domElement\n\n    this.enabled = true\n\n    this.movementSpeed = 1.0\n    this.lookSpeed = 0.005\n\n    this.lookVertical = true\n    this.autoForward = false\n\n    this.activeLook = true\n\n    this.heightSpeed = false\n    this.heightCoef = 1.0\n    this.heightMin = 0.0\n    this.heightMax = 1.0\n\n    this.constrainVertical = false\n    this.verticalMin = 0\n    this.verticalMax = Math.PI\n\n    this.autoSpeedFactor = 0.0\n\n    this.mouseX = 0\n    this.mouseY = 0\n\n    this.lat = 0\n    this.lon = 0\n    this.phi = 0\n    this.theta = 0\n\n    this.moveForward = false\n    this.moveBackward = false\n    this.moveLeft = false\n    this.moveRight = false\n\n    this.mouseDragOn = false\n\n    this.viewHalfX = 0\n    this.viewHalfY = 0\n\n    if ( this.domElement !== document ) {\n      this.domElement.setAttribute( 'tabindex', - 1 )\n    }\n\n    this._contextMenu = this.contextMenu.bind(this)\n    this._onMouseMove = this.onMouseMove.bind(this)\n    this._onMouseDown = this.onMouseDown.bind(this)\n    this._onMouseUp = this.onMouseUp.bind(this)\n    this._onKeyDown = this.onKeyDown.bind(this)\n    this._onKeyUp = this.onKeyUp.bind(this)\n\n    this.handleResize()\n    this.bindEvents()\n  }\n\n  /**\n   * HandleResize function\n   */\n  handleResize() {\n    if ( this.domElement === document ) {\n      this.viewHalfX = window.innerWidth / 2\n      this.viewHalfY = window.innerHeight / 2\n    } else {\n      this.viewHalfX = this.domElement.offsetWidth / 2\n      this.viewHalfY = this.domElement.offsetHeight / 2\n    }\n  }\n\n  /**\n   * BindEvents function\n   */\n  bindEvents() {\n    this.domElement.addEventListener( 'contextmenu', this._contextmenu, false )\n    this.domElement.addEventListener( 'mousemove', this._onMouseMove, false )\n    this.domElement.addEventListener( 'mousedown', this._onMouseDown, false )\n    this.domElement.addEventListener( 'mouseup', this._onMouseUp, false )\n\n    window.addEventListener( 'keydown', this._onKeyDown, false )\n    window.addEventListener( 'keyup', this._onKeyUp, false )\n  }\n\n  /**\n   * OnMouseDown function\n   * @param  {object} event Event\n   */\n  onMouseDown( event ) {\n    if ( this.domElement !== document ) {\n      this.domElement.focus()\n    }\n\n    event.preventDefault()\n    event.stopPropagation()\n\n    if ( this.activeLook ) {\n      switch ( event.button ) {\n      case 0:\n        this.moveForward = true\n        break\n      case 2:\n        this.moveBackward = true\n        break\n      }\n    }\n\n    this.mouseDragOn = true\n  }\n\n  /**\n   * OnMouseUp function\n   * @param  {object} event Event\n   */\n  onMouseUp( event ) {\n    event.preventDefault()\n    event.stopPropagation()\n\n    if ( this.activeLook ) {\n      switch ( event.button ) {\n      case 0:\n        this.moveForward = false\n        break\n      case 2:\n        this.moveBackward = false\n        break\n      }\n    }\n\n    this.mouseDragOn = false\n  }\n\n  /**\n   * OnMouseMove function\n   * @param  {object} event Event\n   */\n  onMouseMove ( event ) {\n    if ( this.domElement === document ) {\n      this.mouseX = event.pageX - this.viewHalfX\n      this.mouseY = event.pageY - this.viewHalfY\n    } else {\n      this.mouseX = event.pageX - this.domElement.offsetLeft - this.viewHalfX\n      this.mouseY = event.pageY - this.domElement.offsetTop - this.viewHalfY\n    }\n  }\n\n  /**\n   * OnKeyDown function\n   * @param  {object} event Event\n   */\n  onKeyDown( event ) {\n    switch ( event.keyCode ) {\n\n    case 38: /*up*/\n    case 87: /*W*/\n      this.moveForward = true\n      break\n\n    case 37: /*left*/\n    case 65: /*A*/\n      this.moveLeft = true\n      break\n\n    case 40: /*down*/\n    case 83: /*S*/\n      this.moveBackward = true\n      break\n\n    case 39: /*right*/\n    case 68: /*D*/\n      this.moveRight = true\n      break\n\n    case 82: /*R*/\n      this.moveUp = true\n      break\n    case 70: /*F*/\n      this.moveDown = true\n      break\n    }\n  }\n\n  /**\n   * OnKeyUp function\n   * @param  {object} event Event\n   */\n  onKeyUp( event ) {\n    switch ( event.keyCode ) {\n\n    case 38: /*up*/\n    case 87: /*W*/\n      this.moveForward = false\n      break\n\n    case 37: /*left*/\n    case 65: /*A*/\n      this.moveLeft = false\n      break\n\n    case 40: /*down*/\n    case 83: /*S*/\n      this.moveBackward = false\n      break\n\n    case 39: /*right*/\n    case 68: /*D*/\n      this.moveRight = false\n      break\n\n    case 82: /*R*/\n      this.moveUp = false\n      break\n\n    case 70: /*F*/\n      this.moveDown = false\n      break\n    }\n  }\n\n  /**\n   * Update function\n   * @param  {object} delta Delta\n   */\n  update( delta ) {\n    if ( this.enabled === false ) {\n      return\n    }\n\n    if ( this.heightSpeed ) {\n      let y = THREE.Math.clamp( this.object.position.y, this.heightMin, this.heightMax )\n      let heightDelta = y - this.heightMin\n\n      this.autoSpeedFactor = delta * ( heightDelta * this.heightCoef )\n\n    } else {\n      this.autoSpeedFactor = 0.0\n    }\n\n    let actualMoveSpeed = delta * this.movementSpeed\n\n    if ( this.moveForward || ( this.autoForward && ! this.moveBackward ) ) {\n      this.object.translateZ( - ( actualMoveSpeed + this.autoSpeedFactor ) )\n    }\n    if ( this.moveBackward ) {\n      this.object.translateZ( actualMoveSpeed )\n    }\n\n    if ( this.moveLeft ) {\n      this.object.translateX( - actualMoveSpeed )\n    }\n    if ( this.moveRight ) {\n      this.object.translateX( actualMoveSpeed )\n    }\n\n    if ( this.moveUp ) {\n      this.object.translateY( actualMoveSpeed )\n    }\n    if ( this.moveDown ) {\n      this.object.translateY( - actualMoveSpeed )\n    }\n\n    let actualLookSpeed = delta * this.lookSpeed\n\n    if ( ! this.activeLook ) {\n      actualLookSpeed = 0\n    }\n\n    let verticalLookRatio = 1\n\n    if ( this.constrainVertical ) {\n      verticalLookRatio = Math.PI / ( this.verticalMax - this.verticalMin )\n    }\n\n    this.lon += this.mouseX * actualLookSpeed\n    if ( this.lookVertical ) {\n      this.lat -= this.mouseY * actualLookSpeed * verticalLookRatio\n    }\n\n    this.lat = Math.max( - 85, Math.min( 85, this.lat ) )\n    this.phi = THREE.Math.degToRad( 90 - this.lat )\n\n    this.theta = THREE.Math.degToRad( this.lon )\n\n    if ( this.constrainVertical ) {\n      this.phi = THREE.Math.mapLinear( this.phi, 0, Math.PI, this.verticalMin, this.verticalMax )\n    }\n\n    let targetPosition = this.target\n    let position = this.object.position\n\n    targetPosition.x = position.x + 100 * Math.sin( this.phi ) * Math.cos( this.theta )\n    targetPosition.y = position.y + 100 * Math.cos( this.phi )\n    targetPosition.z = position.z + 100 * Math.sin( this.phi ) * Math.sin( this.theta )\n\n    this.object.lookAt( targetPosition )\n  }\n\n  /**\n   * ContextMenu function\n   * @param  {object} event Event\n   */\n  contextMenu( event ) {\n    event.preventDefault()\n  }\n\n  /**\n   * Dispose function\n   */\n  dispose() {\n    this.domElement.removeEventListener( 'contextmenu', this._contextmenu, false )\n    this.domElement.removeEventListener( 'mousedown', this._onMouseDown, false )\n    this.domElement.removeEventListener( 'mousemove', this._onMouseMove, false )\n    this.domElement.removeEventListener( 'mouseup', this._onMouseUp, false )\n\n    window.removeEventListener( 'keydown', this._onKeyDown, false )\n    window.removeEventListener( 'keyup', this._onKeyUp, false )\n  }\n}\n\nexport default FirstPersonControls\n\n\n\n// WEBPACK FOOTER //\n// ./src/first-person-controls.js","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"three\"\n// module id = 1\n// module chunks = 0"],"sourceRoot":""}